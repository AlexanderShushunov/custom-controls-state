<!DOCTYPE html>
<html>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
  <style>
    .columns {
      display: flex;
      flex-wrap: wrap;
    }

    .case-wrapper {
      margin: 40px;
      display: grid;
      grid-template-columns: 300px;
      grid-row-gap: 20px;
    }

    .fix-button {
      -webkit-tap-highlight-color: transparent;
    }
    .fix-button::-moz-focus-inner {
      border: none;
    }

    .custom-state {
      border: 2px solid gray;
      outline: none;
    }

    .custom-state:focus {
      box-shadow: 0 0 0 4px aqua;
    }

    .custom-state:hover {
      background-color: lightgoldenrodyellow;
    }

    .custom-state:active {
      border-color: red;
    }

    .custom-outline:focus {
      outline: 2px blue solid;
      outline-offset: 2px;
    }

    .custom-outline--auto:focus {
      outline: 2px blue auto;
      outline-offset: 4px;
    }

    .custom-state-nesting:focus,
    .custom-state-nesting__inner:focus {
      outline: none;
    }

    .custom-state-nesting:focus > .custom-state-nesting__inner {
      box-shadow: 0 0 0 4px aqua;
    }

    .custom-state-with-body-flag {
      border: 2px solid gray;
      outline: none;
    }

    .custom-state-with-body-flag:hover {
      background-color: lightgoldenrodyellow;
    }

    .custom-state-with-body-flag:active {
      border-color: red;
    }

    body.user-use-keyboards .custom-state-with-body-flag:focus {
      box-shadow: 0 0 0 4px aqua;
    }

    .checkable-label {
      position: relative;
    }

    .checkable-outline {
      position: absolute;
      left: 0;
      right: 0;
      top: 0;
      bottom: 0;
    }

    body.user-use-keyboards .checkable-with-body-flag:focus + .checkable-outline {
      box-shadow: 0 0 0 4px aqua;
    }

  </style>
</head>
<script>
function onMousedown () {
  document.body.classList.remove('user-use-keyboards')
}

function onKeydown (event) {
  if (event.key === 'Tab') {
    document.body.classList.add('user-use-keyboards')
  }
}



window.addEventListener('mousedown', onMousedown )
window.addEventListener('keydown', onKeydown)
</script>
<div class="columns">
  <div class="case-wrapper">
    <h2>Custom styles</h2>
    <input class="custom-state">
    <select class="custom-state">
      <option>Option 1</option>
      <option>Option 2</option>
      <option>Option 3</option>
      <option>Option 4</option>
    </select>
    <div>
      <label>
        <input class="custom-state" type="radio" name="contact">
        Email
      </label>
      <label>
        <input class="custom-state" type="radio" name="contact">
        Phone
      </label>
    </div>
    <div>
      <label>
        <input class="custom-state" type="checkbox">
        Email
      </label>
      <label>
        <input class="custom-state" type="checkbox">
        Phone
      </label>
    </div>
    <button class="custom-state fix-button">Button</button>
    <a href="javascript:void(0)" class="custom-state">Link</a>
  </div>

  <div class="case-wrapper">
    <h2>Default styles</h2>
    <input>
    <select>
      <option>Option 1</option>
      <option>Option 2</option>
      <option>Option 3</option>
      <option>Option 4</option>
    </select>
    <div>
      <label>
        <input type="radio" name="contact">
        Email
      </label>
      <label>
        <input type="radio" name="contact">
        Phone
      </label>
    </div>
    <div>
      <label>
        <input type="checkbox">
        Email
      </label>
      <label>
        <input type="checkbox">
        Phone
      </label>
    </div>
    <button>Button</button>
    <a href="javascript:void(0)">Link</a>
  </div>

  <div class="case-wrapper">
    <h2>Outline styles</h2>
    <input class="custom-outline">
    <select class="custom-outline">
      <option>Option 1</option>
      <option>Option 2</option>
      <option>Option 3</option>
      <option>Option 4</option>
    </select>
    <div>
      <label>
        <input type="radio" name="contact" class="custom-outline">
        Email
      </label>
      <label>
        <input type="radio" name="contact" class="custom-outline">
        Phone
      </label>
    </div>
    <div>
      <label>
        <input type="checkbox" class="custom-outline">
        Email
      </label>
      <label>
        <input type="checkbox" class="custom-outline">
        Phone
      </label>
    </div>
    <button class="custom-outline">Button</button>
    <a href="javascript:void(0)" class="custom-outline">Link</a>
  </div>

  <div class="case-wrapper">
    <h2>Outline styles (auto)</h2>
    <input class="custom-outline--auto">
    <select class="custom-outline--auto">
      <option>Option 1</option>
      <option>Option 2</option>
      <option>Option 3</option>
      <option>Option 4</option>
    </select>
    <div>
      <label>
        <input type="radio" name="contact" class="custom-outline--auto">
        Email
      </label>
      <label>
        <input type="radio" name="contact" class="custom-outline--auto">
        Phone
      </label>
    </div>
    <div>
      <label>
        <input type="checkbox" class="custom-outline--auto">
        Email
      </label>
      <label>
        <input type="checkbox" class="custom-outline--auto">
        Phone
      </label>
    </div>
    <button class="custom-outline--auto">Button</button>
    <a href="javascript:void(0)" class="custom-outline--auto">Link</a>
  </div>

  <div class="case-wrapper">
    <h2>Nesting</h2>
    <p>Based on the <a href="https://www.kizu.ru/keyboard-only-focus">article</a></p>
    <button class="custom-state-nesting" tabindex="0">
      <span class="custom-state-nesting__inner" tabindex="-1">
       Button
      </span>
    </button>

    <a href="javascript:void(0)" class="custom-state-nesting" tabindex="0">
      <span class="custom-state-nesting__inner" tabindex="-1">
        Link
      </span>
    </a>
  </div>

  <div class="case-wrapper">
    <h2>Custom styles + flag on body</h2>
    <input class="custom-state-with-body-flag">
    <select class="custom-state-with-body-flag">
      <option>Option 1</option>
      <option>Option 2</option>
      <option>Option 3</option>
      <option>Option 4</option>
    </select>
    <div>
      <label class="checkable-label">
        <input class="checkable-with-body-flag" type="radio" name="contact">
        Email
        <span class="checkable-outline" />
      </label>
      <label class="checkable-label">
        <input class="checkable-with-body-flag" type="radio" name="contact">
        Phone
        <span class="checkable-outline" />
      </label>
    </div>
    <div>
      <label class="checkable-label">
        <input class="checkable-with-body-flag" type="checkbox">
        Email
        <span class="checkable-outline" />
      </label>
      <label class="checkable-label">
        <input class="checkable-with-body-flag" type="checkbox">
        Phone
        <span class="checkable-outline" />
      </label>
    </div>
    <button class="custom-state-with-body-flag fix-button">Button</button>
    <a href="javascript:void(0)" class="custom-state-with-body-flag">Link</a>
    <button
        class="custom-state-with-body-flag fix-button"
        onclick="event.stopPropagation()"
    >
      Button (stop propagation)
    </button>
    <button
        class="custom-state-with-body-flag fix-button"
        onclick="event.stopImmediatePropagation()"
    >
      Button (stop Immediate Propagation)
    </button>
    <button
        class="custom-state-with-body-flag fix-button"
        onclick="event.preventDefault()">
      Button (prevent default)
    </button>
  </div>
</div>
</html>
